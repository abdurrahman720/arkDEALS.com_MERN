{"ast":null,"code":"import _objectSpread from\"/Users/abdurrahman/VsCode/WebDev/PGHERO/MileStone12/ark-deals-client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/abdurrahman/VsCode/WebDev/PGHERO/MileStone12/ark-deals-client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useState}from'react';import{useForm}from'react-hook-form';import{Link,useNavigate}from'react-router-dom';import{toast}from'react-toastify';import{AuthContext}from'../../Context/AuthProvider';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SellerRegister=function SellerRegister(){var _errors$name,_errors$email,_errors$password;var _useContext=useContext(AuthContext),emailSignUp=_useContext.emailSignUp,updateName=_useContext.updateName,googleSign=_useContext.googleSign,isLoading=_useContext.isLoading;var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,errors=_useForm.formState.errors;var navigate=useNavigate();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),signError=_useState2[0],setSignError=_useState2[1];var handleSignIn=function handleSignIn(data){setSignError('');console.log(data);emailSignUp(data.email,data.password).then(function(userCredentials){var signedInUser=userCredentials.user;console.log(signedInUser);updateName(data.name).then(function(){console.log('name updated');var user={name:data.name,email:data.email,role:'seller',verified:false};fetch(\"http://localhost:5001/add-users\",{method:'POST',headers:{'content-type':'application/json'},body:JSON.stringify(user)}).then(function(res){return res.json();}).then(function(data){if(data.acknowledged){//jwt token\nfetch(\"http://localhost:5001/jwt?email=\".concat(user===null||user===void 0?void 0:user.email)).then(function(res){return res.json();}).then(function(data){console.log(data.accessToken);localStorage.setItem('arkDeals',data.accessToken);toast.success(\"Registration Success as Seller!\");navigate('/dashboard');});}});});}).catch(function(error){setSignError(error.message);isLoading(false);});};var handleGoogleSign=function handleGoogleSign(){googleSign().then(function(res){var signedUser=res.user;console.log(signedUser);var user={name:signedUser.displayName,email:signedUser.email,role:\"buyer\"};fetch(\"http://localhost:5001/add-users\",{method:\"POST\",headers:{\"content-type\":\"application/json\"},body:JSON.stringify(user)}).then(function(res){return res.json();}).then(function(data){if(data.acknowledged){//jwt token\nfetch(\"http://localhost:5001/jwt?email=\".concat(user===null||user===void 0?void 0:user.email)).then(function(res){return res.json();}).then(function(data){console.log(data.accessToken);localStorage.setItem(\"arkDeals\",data.accessToken);toast.success(\"Registration Success as Buyer!\");navigate(\"/dashboard\");});}});}).catch(function(err){console.log(err.message);isLoading(false);});};return/*#__PURE__*/_jsx(\"div\",{className:\"hero min-h-screen bg-base-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"hero-content flex-col lg:flex-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center lg:text-left\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-5xl font-bold\",children:\"Register Now!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"py-6\",children:\"Sell your unused laptops and get the best price only on arkDEALS.com!\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card flex-shrink-0 w-full max-w-sm shadow-2xl bg-base-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(handleSignIn),children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl text-center\",children:\"Register as Seller\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-control w-full max-w-xs\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"label\",children:[\" \",/*#__PURE__*/_jsx(\"span\",{className:\"label-text\",children:\"Full Name\"})]}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\"},register(\"name\",{required:\"Name is required\"})),{},{className:\"input input-bordered w-full max-w-xs\"})),errors.name&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600\",children:(_errors$name=errors.name)===null||_errors$name===void 0?void 0:_errors$name.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-control w-full max-w-xs\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"label\",children:[\" \",/*#__PURE__*/_jsx(\"span\",{className:\"label-text\",children:\"Email\"})]}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\"},register(\"email\",{required:\"Email Address is required\"})),{},{className:\"input input-bordered w-full max-w-xs\"})),errors.email&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600\",children:(_errors$email=errors.email)===null||_errors$email===void 0?void 0:_errors$email.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-control w-full max-w-xs\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"label\",children:[\" \",/*#__PURE__*/_jsx(\"span\",{className:\"label-text\",children:\"Password\"})]}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"password\"},register(\"password\",{required:\"Password is required\",minLength:{value:6,message:'Password must be 6 characters or longer'}})),{},{className:\"input input-bordered w-full max-w-xs\"})),errors.password&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600\",children:(_errors$password=errors.password)===null||_errors$password===void 0?void 0:_errors$password.message})]}),/*#__PURE__*/_jsx(\"input\",{className:\"btn btn-accent w-full mt-5\",value:\"Register as Seller\",type:\"submit\"}),/*#__PURE__*/_jsx(\"div\",{children:signError&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600\",children:signError})})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm\",children:[\"Want to buy on arkDEALS.com? \",/*#__PURE__*/_jsx(Link,{className:\"text-secondary\",to:\"/register\",children:\"Register as Buyer\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"divider\",children:\"OR\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleGoogleSign,className:\"btn btn-outline btn-secondary w-full\",children:\"CONTINUE WITH GOOGLE\"})]})})]})});};export default SellerRegister;","map":{"version":3,"names":["React","useContext","useState","useForm","Link","useNavigate","toast","AuthContext","SellerRegister","emailSignUp","updateName","googleSign","isLoading","register","handleSubmit","errors","formState","navigate","signError","setSignError","handleSignIn","data","console","log","email","password","then","userCredentials","signedInUser","user","name","role","verified","fetch","method","headers","body","JSON","stringify","res","json","acknowledged","accessToken","localStorage","setItem","success","catch","error","message","handleGoogleSign","signedUser","displayName","err","required","minLength","value"],"sources":["/Users/abdurrahman/VsCode/WebDev/PGHERO/MileStone12/ark-deals-client/src/Pages/AuthPages/SellerRegister.jsx"],"sourcesContent":["import React, { useContext, useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport { AuthContext } from '../../Context/AuthProvider';\n\nconst SellerRegister = () => {\n  const {emailSignUp,updateName,googleSign,isLoading}  = useContext(AuthContext)\n    const {\n        register,\n        handleSubmit,\n        formState: { errors },\n      } = useForm();\n        \n      const navigate = useNavigate()\n        const [signError, setSignError] = useState('');\n        \n        const handleSignIn = (data) => {\n          setSignError('')\n          console.log(data);\n          emailSignUp(data.email, data.password)\n              .then(userCredentials => {\n                  const signedInUser = userCredentials.user;\n                  console.log(signedInUser);\n                  updateName(data.name)\n                      .then(() => {\n                          console.log('name updated');\n                          const user = {\n                              name: data.name,\n                              email: data.email,\n                            role: 'seller',\n                              verified: false\n                          }\n                          fetch(`http://localhost:5001/add-users`, {\n                              method: 'POST',\n                              headers: {\n                                  'content-type': 'application/json'\n                              },\n                              body: JSON.stringify(user)\n                          })\n                              .then(res => res.json())\n                              .then(data => {\n                                if (data.acknowledged) {\n                                  //jwt token\n                                  fetch(`http://localhost:5001/jwt?email=${user?.email}`)\n                                  .then(res => res.json())\n                                  .then(data => {\n                                      console.log(data.accessToken);\n                                      localStorage.setItem('arkDeals', data.accessToken);\n                                      toast.success(\"Registration Success as Seller!\")\n                                      navigate('/dashboard')\n                              })\n                                 }\n                              \n                              \n                          })\n                  })\n              })\n              .catch(error => {\n                setSignError(error.message)\n                isLoading(false)\n      })\n        }\n        const handleGoogleSign = () => {\n          googleSign().then((res) => {\n            const signedUser = res.user;\n            console.log(signedUser);\n            const user = {\n              name: signedUser.displayName,\n              email: signedUser.email,\n              role: \"buyer\",\n            };\n            fetch(`http://localhost:5001/add-users`, {\n              method: \"POST\",\n              headers: {\n                \"content-type\": \"application/json\",\n              },\n              body: JSON.stringify(user),\n            })\n              .then((res) => res.json())\n              .then((data) => {\n                if (data.acknowledged) {\n                  //jwt token\n                  fetch(`http://localhost:5001/jwt?email=${user?.email}`)\n                    .then((res) => res.json())\n                    .then((data) => {\n                      console.log(data.accessToken);\n                      localStorage.setItem(\"arkDeals\", data.accessToken);\n                      toast.success(\"Registration Success as Buyer!\");\n                      navigate(\"/dashboard\");\n                    });\n                }\n              });\n          }).catch(err => {\n            console.log(err.message)\n            isLoading(false)\n          })\n        };\n        \n      return (\n        <div className=\"hero min-h-screen bg-base-200\">\n          <div className=\"hero-content flex-col lg:flex-row\">\n            <div className=\"text-center lg:text-left\">\n              <h1 className=\"text-5xl font-bold\">Register Now!</h1>\n              <p className=\"py-6\">\n              Sell your unused laptops and get the best price only on arkDEALS.com!\n              </p>\n            </div>\n            <div className=\"card flex-shrink-0 w-full max-w-sm shadow-2xl bg-base-100\">\n                      <div className=\"card-body\">\n                      <form onSubmit={handleSubmit(handleSignIn)} >\n                              <h2 className=\"text-2xl text-center\">Register as Seller</h2>\n                              <div className=\"form-control w-full max-w-xs\">\n                            <label className=\"label\"> <span className=\"label-text\">Full Name</span></label>\n                            <input type=\"text\"\n                                {...register(\"name\", {\n                                    required: \"Name is required\"\n                                })}\n                                className=\"input input-bordered w-full max-w-xs\" />\n                            {errors.name && <p className='text-red-600'>{errors.name?.message}</p>}\n                        </div>\n                        <div className=\"form-control w-full max-w-xs\">\n                            <label className=\"label\"> <span className=\"label-text\">Email</span></label>\n                            <input type=\"text\"\n                                {...register(\"email\", {\n                                    required: \"Email Address is required\"\n                                })}\n                                className=\"input input-bordered w-full max-w-xs\" />\n                            {errors.email && <p className='text-red-600'>{errors.email?.message}</p>}\n                        </div>\n                        <div className=\"form-control w-full max-w-xs\">\n                            <label className=\"label\"> <span className=\"label-text\">Password</span></label>\n                            <input type=\"password\"\n                                {...register(\"password\", {\n                                    required: \"Password is required\",\n                                    minLength: { value: 6, message: 'Password must be 6 characters or longer' }\n                                })}\n                                className=\"input input-bordered w-full max-w-xs\" />\n                            \n                            {errors.password && <p className='text-red-600'>{errors.password?.message}</p>}\n                        </div>\n                        <input className='btn btn-accent w-full mt-5' value=\"Register as Seller\" type=\"submit\" />\n                        <div>\n                            {signError && <p className='text-red-600'>{signError}</p>}\n                        </div>\n                          </form>\n                          <p className='text-sm'>Want to buy on arkDEALS.com? <Link className='text-secondary' to=\"/register\">Register as Buyer</Link></p>\n                    <div className=\"divider\">OR</div>\n                    <button\n              onClick={handleGoogleSign}\n              className=\"btn btn-outline btn-secondary w-full\"\n            >\n              CONTINUE WITH GOOGLE\n            </button>\n                      </div>\n                     \n            </div>\n          </div>\n        </div>\n      );\n};\n\nexport default SellerRegister;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}