{"ast":null,"code":"var _jsxFileName = \"/Users/abdurrahman/VsCode/WebDev/PGHERO/MileStone12/ark-deals-client/src/Context/AuthProvider.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { createContext } from \"react\";\nimport { getAuth } from 'firebase/auth';\nimport { app } from \"./Firebase.config\";\nimport { createUserWithEmailAndPassword, GoogleAuthProvider, onAuthStateChanged, signInWithEmailAndPassword, signInWithPopup, signOut, updateProfile } from 'firebase/auth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const AuthContext = /*#__PURE__*/createContext();\nconst auth = getAuth(app);\nconst googleProvider = new GoogleAuthProvider();\nconst AuthProvider = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const [user, setUser] = useState(null);\n  const [loading, isLoading] = useState(true);\n  const googleSign = () => {\n    isLoading(true);\n    return signInWithPopup(auth, googleProvider);\n  };\n  const logOut = () => {\n    return signOut(auth);\n  };\n  const emailSignIn = (email, password) => {\n    isLoading(true);\n    return signInWithEmailAndPassword(auth, email, password);\n  };\n  const emailSignUp = (email, password) => {\n    isLoading(true);\n    return createUserWithEmailAndPassword(auth, email, password);\n  };\n  const updateName = name => {\n    return updateProfile(auth.currentUser, {\n      displayName: name\n    });\n  };\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, currentUser => {\n      setUser(currentUser);\n      console.log('current user:', currentUser);\n      isLoading(false);\n    });\n    return () => {\n      unsubscribe();\n    };\n  }, []);\n  const authInfo = {\n    user,\n    loading,\n    googleSign,\n    logOut,\n    emailSignIn,\n    emailSignUp,\n    updateName,\n    setLoadi\n  };\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: authInfo,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 9\n  }, this);\n};\n_s(AuthProvider, \"X1mg/M+9vhFSNXFkc/d5gx008Yw=\");\n_c = AuthProvider;\nexport default AuthProvider;\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"names":["React","useState","useEffect","createContext","getAuth","app","createUserWithEmailAndPassword","GoogleAuthProvider","onAuthStateChanged","signInWithEmailAndPassword","signInWithPopup","signOut","updateProfile","AuthContext","auth","googleProvider","AuthProvider","children","user","setUser","loading","isLoading","googleSign","logOut","emailSignIn","email","password","emailSignUp","updateName","name","currentUser","displayName","unsubscribe","console","log","authInfo","setLoadi"],"sources":["/Users/abdurrahman/VsCode/WebDev/PGHERO/MileStone12/ark-deals-client/src/Context/AuthProvider.jsx"],"sourcesContent":["import React,{useState, useEffect} from 'react';\nimport { createContext } from \"react\";\nimport { getAuth } from 'firebase/auth';\nimport { app } from \"./Firebase.config\";\nimport {createUserWithEmailAndPassword,  GoogleAuthProvider, onAuthStateChanged, signInWithEmailAndPassword, signInWithPopup, signOut, updateProfile} from 'firebase/auth'\n\nexport const AuthContext = createContext();\nconst auth = getAuth(app);\nconst googleProvider = new GoogleAuthProvider();\n\nconst AuthProvider = ({ children }) => {\n\n    const [user, setUser] = useState(null);\n    const [loading, isLoading] = useState(true);\n\n    const googleSign = () => {\n        isLoading(true);\n        return signInWithPopup(auth, googleProvider);\n    }\n\n    const logOut = () => {\n        return signOut(auth);\n    }\n\n    const emailSignIn = (email, password) => {\n        isLoading(true);\n        return signInWithEmailAndPassword(auth, email, password);\n    }\n\n    const emailSignUp = (email, password) => {\n        isLoading(true);\n        return createUserWithEmailAndPassword(auth, email, password);\n    }\n    const updateName = (name) => {\n        return updateProfile(auth.currentUser, { displayName: name })\n    }\n    \n    useEffect(() => {\n        const unsubscribe = onAuthStateChanged(auth, (currentUser) => {\n            setUser(currentUser);\n            console.log('current user:', currentUser);\n           isLoading(false);\n       })\n        return () => {\n            unsubscribe();\n        }\n    },[])\n\n    const authInfo = {user,loading,googleSign,logOut,emailSignIn,emailSignUp,updateName,setLoadi}\n\n\n    return (\n        <AuthContext.Provider value={authInfo}>\n            {children}\n        </AuthContext.Provider>\n    );\n};\n\nexport default AuthProvider;\n\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAEC,QAAQ,EAAEC,SAAS,QAAO,OAAO;AAC/C,SAASC,aAAa,QAAQ,OAAO;AACrC,SAASC,OAAO,QAAQ,eAAe;AACvC,SAASC,GAAG,QAAQ,mBAAmB;AACvC,SAAQC,8BAA8B,EAAGC,kBAAkB,EAAEC,kBAAkB,EAAEC,0BAA0B,EAAEC,eAAe,EAAEC,OAAO,EAAEC,aAAa,QAAO,eAAe;AAAA;AAE1K,OAAO,MAAMC,WAAW,gBAAGV,aAAa,EAAE;AAC1C,MAAMW,IAAI,GAAGV,OAAO,CAACC,GAAG,CAAC;AACzB,MAAMU,cAAc,GAAG,IAAIR,kBAAkB,EAAE;AAE/C,MAAMS,YAAY,GAAG,QAAkB;EAAA;EAAA,IAAjB;IAAEC;EAAS,CAAC;EAE9B,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGlB,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACmB,OAAO,EAAEC,SAAS,CAAC,GAAGpB,QAAQ,CAAC,IAAI,CAAC;EAE3C,MAAMqB,UAAU,GAAG,MAAM;IACrBD,SAAS,CAAC,IAAI,CAAC;IACf,OAAOX,eAAe,CAACI,IAAI,EAAEC,cAAc,CAAC;EAChD,CAAC;EAED,MAAMQ,MAAM,GAAG,MAAM;IACjB,OAAOZ,OAAO,CAACG,IAAI,CAAC;EACxB,CAAC;EAED,MAAMU,WAAW,GAAG,CAACC,KAAK,EAAEC,QAAQ,KAAK;IACrCL,SAAS,CAAC,IAAI,CAAC;IACf,OAAOZ,0BAA0B,CAACK,IAAI,EAAEW,KAAK,EAAEC,QAAQ,CAAC;EAC5D,CAAC;EAED,MAAMC,WAAW,GAAG,CAACF,KAAK,EAAEC,QAAQ,KAAK;IACrCL,SAAS,CAAC,IAAI,CAAC;IACf,OAAOf,8BAA8B,CAACQ,IAAI,EAAEW,KAAK,EAAEC,QAAQ,CAAC;EAChE,CAAC;EACD,MAAME,UAAU,GAAIC,IAAI,IAAK;IACzB,OAAOjB,aAAa,CAACE,IAAI,CAACgB,WAAW,EAAE;MAAEC,WAAW,EAAEF;IAAK,CAAC,CAAC;EACjE,CAAC;EAED3B,SAAS,CAAC,MAAM;IACZ,MAAM8B,WAAW,GAAGxB,kBAAkB,CAACM,IAAI,EAAGgB,WAAW,IAAK;MAC1DX,OAAO,CAACW,WAAW,CAAC;MACpBG,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEJ,WAAW,CAAC;MAC1CT,SAAS,CAAC,KAAK,CAAC;IACpB,CAAC,CAAC;IACD,OAAO,MAAM;MACTW,WAAW,EAAE;IACjB,CAAC;EACL,CAAC,EAAC,EAAE,CAAC;EAEL,MAAMG,QAAQ,GAAG;IAACjB,IAAI;IAACE,OAAO;IAACE,UAAU;IAACC,MAAM;IAACC,WAAW;IAACG,WAAW;IAACC,UAAU;IAACQ;EAAQ,CAAC;EAG7F,oBACI,QAAC,WAAW,CAAC,QAAQ;IAAC,KAAK,EAAED,QAAS;IAAA,UACjClB;EAAQ;IAAA;IAAA;IAAA;EAAA,QACU;AAE/B,CAAC;AAAC,GA9CID,YAAY;AAAA,KAAZA,YAAY;AAgDlB,eAAeA,YAAY;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}