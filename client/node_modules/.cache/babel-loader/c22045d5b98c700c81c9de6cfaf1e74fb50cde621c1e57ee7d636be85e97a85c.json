{"ast":null,"code":"import _regeneratorRuntime from\"/Users/abdurrahman/VsCode/WebDev/PGHERO/MileStone12/ark-deals-client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/abdurrahman/VsCode/WebDev/PGHERO/MileStone12/ark-deals-client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{useQuery}from\"@tanstack/react-query\";import React,{useContext}from\"react\";import Loader from\"../../../Components/Loader\";import{AuthContext}from\"../../../Context/AuthProvider\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Overview=function Overview(){var _useContext=useContext(AuthContext),user=_useContext.user;var _useQuery=useQuery({queryKey:[\"currentUser\"],queryFn:function(){var _queryFn=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://ark-deals-server.vercel.app/profile/\".concat(user===null||user===void 0?void 0:user.email),{headers:{authorization:\"Bearer \".concat(localStorage.getItem(\"arkDeals\"))}});case 2:res=_context.sent;_context.next=5;return res.json();case 5:data=_context.sent;return _context.abrupt(\"return\",data);case 7:case\"end\":return _context.stop();}},_callee);}));function queryFn(){return _queryFn.apply(this,arguments);}return queryFn;}()}),currentUser=_useQuery.data,isLoading=_useQuery.isLoading;console.log(currentUser);if(isLoading){return/*#__PURE__*/_jsx(Loader,{});}return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-accent text-center max-w-sm mx-auto\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl\",children:currentUser.name}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg\",children:currentUser.email}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h5\",{className:\"\",children:currentUser.role})]});};export default Overview;","map":{"version":3,"names":["useQuery","React","useContext","Loader","AuthContext","Overview","user","queryKey","queryFn","fetch","email","headers","authorization","localStorage","getItem","res","json","data","currentUser","isLoading","console","log","name","role"],"sources":["/Users/abdurrahman/VsCode/WebDev/PGHERO/MileStone12/ark-deals-client/src/Pages/Dashboard/OverView/Overview.jsx"],"sourcesContent":["import { useQuery } from \"@tanstack/react-query\";\nimport React, { useContext } from \"react\";\nimport Loader from \"../../../Components/Loader\";\nimport { AuthContext } from \"../../../Context/AuthProvider\";\n\nconst Overview = () => {\n  const { user } = useContext(AuthContext);\n\n  const { data: currentUser, isLoading } = useQuery({\n    queryKey: [\"currentUser\"],\n    queryFn: async () => {\n      const res = await fetch(\n        `https://ark-deals-server.vercel.app/profile/${user?.email}`,\n        {\n          headers: {\n            authorization: `Bearer ${localStorage.getItem(\"arkDeals\")}`,\n          },\n        }\n      );\n      const data = await res.json();\n      return data;\n    },\n  });\n  console.log(currentUser);\n\n  if (isLoading) {\n    return <Loader></Loader>;\n  }\n  return (\n    <div className=\"bg-accent text-center max-w-sm mx-auto\">\n      <h3 className=\"text-xl\">{currentUser.name}</h3>\n      <br />\n      <h4 className=\"text-lg\">{currentUser.email}</h4>\n      <br />\n      <h5 className=\"\">{currentUser.role}</h5>\n    </div>\n  );\n};\n\nexport default Overview;\n"],"mappings":"oUAAA,OAASA,QAAQ,KAAQ,uBAAuB,CAChD,MAAOC,MAAK,EAAIC,UAAU,KAAQ,OAAO,CACzC,MAAOC,OAAM,KAAM,4BAA4B,CAC/C,OAASC,WAAW,KAAQ,+BAA+B,CAAC,wFAE5D,GAAMC,SAAQ,CAAG,QAAXA,SAAQ,EAAS,CACrB,gBAAiBH,UAAU,CAACE,WAAW,CAAC,CAAhCE,IAAI,aAAJA,IAAI,CAEZ,cAAyCN,QAAQ,CAAC,CAChDO,QAAQ,CAAE,CAAC,aAAa,CAAC,CACzBC,OAAO,mFAAE,uKACWC,MAAK,uDAC0BH,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEI,KAAK,EAC1D,CACEC,OAAO,CAAE,CACPC,aAAa,kBAAYC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAC3D,CACF,CAAC,CACF,QAPKC,GAAG,qCAQUA,IAAG,CAACC,IAAI,EAAE,QAAvBC,IAAI,+CACHA,IAAI,uDACZ,+EACH,CAAC,CAAC,CAdYC,WAAW,WAAjBD,IAAI,CAAeE,SAAS,WAATA,SAAS,CAepCC,OAAO,CAACC,GAAG,CAACH,WAAW,CAAC,CAExB,GAAIC,SAAS,CAAE,CACb,mBAAO,KAAC,MAAM,IAAU,CAC1B,CACA,mBACE,aAAK,SAAS,CAAC,wCAAwC,wBACrD,WAAI,SAAS,CAAC,SAAS,UAAED,WAAW,CAACI,IAAI,EAAM,cAC/C,aAAM,cACN,WAAI,SAAS,CAAC,SAAS,UAAEJ,WAAW,CAACR,KAAK,EAAM,cAChD,aAAM,cACN,WAAI,SAAS,CAAC,EAAE,UAAEQ,WAAW,CAACK,IAAI,EAAM,GACpC,CAEV,CAAC,CAED,cAAelB,SAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}