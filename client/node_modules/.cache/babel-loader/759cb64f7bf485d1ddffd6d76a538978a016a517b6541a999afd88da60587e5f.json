{"ast":null,"code":"import _slicedToArray from\"/Users/abdurrahman/VsCode/WebDev/PGHERO/MileStone12/ark-deals-client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext}from'react';import{Navigate,useLocation}from'react-router-dom';import Loader from'../Components/Loader';import{AuthContext}from'../Context/AuthProvider';import useAdmin from'../hooks/useAdmin';import{jsx as _jsx}from\"react/jsx-runtime\";var AdminRoute=function AdminRoute(_ref){var children=_ref.children;var _useContext=useContext(AuthContext),user=_useContext.user,loading=_useContext.loading;var _useAdmin=useAdmin(user===null||user===void 0?void 0:user.email),_useAdmin2=_slicedToArray(_useAdmin,2),isAdmin=_useAdmin2[0],isAdminLoading=_useAdmin2[1];var location=useLocation();if(loading||isAdminLoading){return/*#__PURE__*/_jsx(Loader,{});}if(user&&isAdmin){return children;}return/*#__PURE__*/_jsx(Navigate,{to:\"/login\",state:{from:location}});};export default AdminRoute;","map":{"version":3,"names":["React","useContext","Navigate","useLocation","Loader","AuthContext","useAdmin","AdminRoute","children","user","loading","email","isAdmin","isAdminLoading","location","from"],"sources":["/Users/abdurrahman/VsCode/WebDev/PGHERO/MileStone12/ark-deals-client/src/Routes/AdminRoute.js"],"sourcesContent":["import React, { useContext } from 'react';\nimport { Navigate, useLocation } from 'react-router-dom';\nimport Loader from '../Components/Loader';\nimport { AuthContext } from '../Context/AuthProvider';\nimport useAdmin from '../hooks/useAdmin';\n\nconst AdminRoute = ({children}) => {\n    const { user, loading } = useContext(AuthContext);\n    const [isAdmin,isAdminLoading] =useAdmin(user?.email)\n    \n    const location = useLocation()\n\n    if (loading ||isAdminLoading  ) {\n        return <Loader></Loader>\n    }\n\n    if (user && isAdmin) {\n        return children\n    }\n\n    return <Navigate to='/login' state={{from:location}}></Navigate>\n};\n\nexport default AdminRoute;"],"mappings":"0JAAA,MAAOA,MAAK,EAAIC,UAAU,KAAQ,OAAO,CACzC,OAASC,QAAQ,CAAEC,WAAW,KAAQ,kBAAkB,CACxD,MAAOC,OAAM,KAAM,sBAAsB,CACzC,OAASC,WAAW,KAAQ,yBAAyB,CACrD,MAAOC,SAAQ,KAAM,mBAAmB,CAAC,2CAEzC,GAAMC,WAAU,CAAG,QAAbA,WAAU,MAAmB,IAAdC,SAAQ,MAARA,QAAQ,CACzB,gBAA0BP,UAAU,CAACI,WAAW,CAAC,CAAzCI,IAAI,aAAJA,IAAI,CAAEC,OAAO,aAAPA,OAAO,CACrB,cAAgCJ,QAAQ,CAACG,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEE,KAAK,CAAC,wCAA9CC,OAAO,eAACC,cAAc,eAE7B,GAAMC,SAAQ,CAAGX,WAAW,EAAE,CAE9B,GAAIO,OAAO,EAAGG,cAAc,CAAI,CAC5B,mBAAO,KAAC,MAAM,IAAU,CAC5B,CAEA,GAAIJ,IAAI,EAAIG,OAAO,CAAE,CACjB,MAAOJ,SAAQ,CACnB,CAEA,mBAAO,KAAC,QAAQ,EAAC,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAE,CAACO,IAAI,CAACD,QAAQ,CAAE,EAAY,CACpE,CAAC,CAED,cAAeP,WAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}